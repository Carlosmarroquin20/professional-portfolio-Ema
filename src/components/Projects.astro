---
import GitHub from "./icons/GitHub.astro";
import ReactIcon from "./icons/React.astro";
import NodeIcon from "./icons/Node.astro";
import MongoDBIcon from "./icons/MongoDB.astro";
import PostgreSQLIcon from "./icons/PostgreSQL.astro";
import FirebaseIcon from "./icons/FirebaseIcon.astro";
import RedisIcon from "./icons/RedisIcon.astro";
import DockerIcon from "./icons/DockerIcon.astro";
import ExpressIcon from "./icons/Express.astro";
import Tailwind from "./icons/Tailwind.astro";
import Link from "./icons/Link.astro";
import LinkButton from "./LinkButton.astro";
import Vite from "./icons/Vite.astro"
import Netlify from "./icons/Netlify.astro"

const TAGS = {
  REACT: {
    name: "React",
    class: "bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-800",
    icon: ReactIcon,
  },
  TAILWIND: {
    name: "Tailwind",
    class: "bg-cyan-100 dark:bg-cyan-900/40 text-cyan-700 dark:text-cyan-300 border border-cyan-200 dark:border-cyan-800",
    icon: Tailwind,
  },
  NODE: {
    name: "Node.js",
    class: "bg-green-100 dark:bg-green-900/40 text-green-700 dark:text-green-300 border border-green-200 dark:border-green-800",
    icon: NodeIcon,
  },
  MONGODB: {
    name: "MongoDB",
    class: "bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300 border border-emerald-200 dark:border-emerald-800",
    icon: MongoDBIcon,
  },
  POSTGRESQL: {
    name: "PostgreSQL",
    class: "bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 dark:text-indigo-300 border border-indigo-200 dark:border-indigo-800",
    icon: PostgreSQLIcon,
  },
  FIREBASE: {
    name: "Firebase",
    class: "bg-orange-100 dark:bg-orange-900/40 text-orange-700 dark:text-orange-300 border border-orange-200 dark:border-orange-800",
    icon: FirebaseIcon,
  },
  REDIS: {
    name: "Redis",
    class: "bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300 border border-red-200 dark:border-red-800",
    icon: RedisIcon,
  },
  DOCKER: {
    name: "Docker",
    class: "bg-sky-100 dark:bg-sky-900/40 text-sky-700 dark:text-sky-300 border border-sky-200 dark:border-sky-800",
    icon: DockerIcon,
  },
  EXPRESS: {
    name: "Express.js",
    class: "bg-gray-100 dark:bg-gray-700/40 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700",
    icon: ExpressIcon,
  },
  VITE: {
    name: "Vite",
    class: "bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300 border border-purple-200 dark:border-purple-800",
    icon: Vite,
  },
  NETLIFY: {
    name: "Netlify",
    class: "bg-teal-100 dark:bg-teal-900/40 text-teal-700 dark:text-teal-300 border border-teal-200 dark:border-teal-800",
    icon: Netlify,
  },
};


const PROJECTS = [
  {
    title: "Distribuidora Agrícola Sandoval",
    description:
      "Plataforma para la automatización de pedidos, incluyendo carrito de compras, autenticación y calificaciones. Desarrollada con React, Node.js, Express y MongoDB. Implementada con metodología Scrum y hospedada en Render.",
    link: "https://pg-das-frontend.onrender.com/",
    github: "https://github.com/Carlosmarroquin20/PG_DAS.git",
    image: "/projects/dascommerce.webp",
    tags: [TAGS.REACT, TAGS.NODE, TAGS.EXPRESS, TAGS.MONGODB, TAGS.DOCKER],
  },
  {
    title: "Textractify",
    description:
      "Aplicación para el reconocimiento de imágenes y generación de descripciones en inglés y español utilizando inteligencia artificial. Desarrollada con React, Node.js, MongoDB y Firebase. Implementada en Render.",
    link: "https://textractify-hugging-face-client.onrender.com/",
    github: "https://github.com/Frnn4268/textractify-hugging-face.git",
    image: "/projects/textractify.webp",
    tags: [TAGS.REACT, TAGS.NODE, TAGS.MONGODB, TAGS.FIREBASE],
  },
  {
    title: "GateMaster",
    description:
      "Sistema ERP y CRM con autenticación Single Sign-On (SSO) y control de acceso basado en roles (RBAC), utilizando Keycloak, PostgreSQL, Redis, Docker, React y Node.js.",
    link: "https://app.gatemaster.online/",
    github: "https://github.com/Seminario24/GateMaster-WebApp.git",
    image: "/projects/gatemaster.webp",
    tags: [TAGS.REACT, TAGS.NODE, TAGS.POSTGRESQL, TAGS.REDIS, TAGS.DOCKER],
  },
  {
    title: "Expense Tracker Pro",
    description:
      "Es una aplicación web diseñada para gestionar tus gastos de manera sencilla, eficiente y con un diseño moderno y atractivo, optimizado para dispositivos móviles y de escritorio.",
    link: "https://expense-tracker322.netlify.app/",
    github: "https://github.com/Carlosmarroquin20/expense-tracker-pro",
    image: "/projects/Expense.webp",
    tags: [TAGS.REACT, TAGS.TAILWIND, TAGS.VITE, TAGS.NETLIFY],
  },
  {
    title: "ClapBack",
    description:
      "Aplicación sencilla para enviar y recibir aplausos virtuales entre amigos, familiares o compañeros. Diseñada para generar interacciones positivas de manera rápida y divertida.",
    link: "",
    github: "",
    image: "/projects/clapback.webp",
    tags: [TAGS.REACT, TAGS.TAILWIND, TAGS.NODE],
  },
];
---

<div class="grid gap-12">
  {PROJECTS.map(({ image, title, description, tags, link, github }) => (
    <article class="group">
      <div class="grid gap-6 md:grid-cols-2 md:gap-8">
        <div class="relative flex flex-col items-center overflow-hidden rounded-2xl shadow-lg transition-all duration-500 group-hover:shadow-2xl group-hover:-translate-y-2 border border-gray-200/50 dark:border-gray-800/50 group-hover:border-blue-300 dark:group-hover:border-blue-800">
          <img 
            alt={title} 
            class="w-full h-64 md:h-80 object-cover transition duration-500 group-hover:scale-105" 
            loading="lazy" 
            src={image} 
          />
          <div class="absolute inset-0 bg-gradient-to-t from-black/0 via-transparent to-black/0 group-hover:from-black/10 transition-all duration-300"></div>
        </div>

        <div class="flex flex-col justify-between">
          <div>
            <h3 class="text-3xl font-bold text-gray-900 dark:text-white mb-3">{title}</h3>
            <p class="text-gray-600 dark:text-gray-300 leading-relaxed mb-6 text-lg">{description}</p>
          </div>

          <div>
            <div class="flex flex-wrap gap-2 mb-6">
              {tags.map((tag) => (
                <span class={`flex items-center gap-1.5 rounded-lg px-3 py-1.5 text-sm font-medium transition-all duration-300 hover:scale-105 ${tag.class}`}>
                  <tag.icon class="w-4 h-4" />
                  {tag.name}
                </span>
              ))}
            </div>

            <div class="flex items-end gap-4 flex-wrap">
              {github && (
                <LinkButton href={github}>
                  <GitHub class="size-5" />
                  Código
                </LinkButton>
              )}
              {link && (
                <LinkButton href={link}>
                  <Link class="size-5" />
                  Ver proyecto
                </LinkButton>
              )}
            </div>
          </div>
        </div>
      </div>
    </article>
  ))}
</div>
